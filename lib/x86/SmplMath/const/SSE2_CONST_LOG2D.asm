;/********************************************************
; * This file is part of the SmplMath macros-system.     *
; *                                                      *
; *          Copyright by qWord, 2011-2014               *
; *                                                      *
; *          SmplMath.Masm{at}gmx{dot}net                *
; *    http://sourceforge.net/projects/smplmath/         *
; *                                                      *
; *  Further Copyright and Legal statements are located  *
; *  in the documentation (Documentation.pdf).           *
; *                                                      *
; ********************************************************/

include SmplMathLib.inc

SmplMthC SEGMENT ALIGN(64) READONLY

	align 64	
	sse2_log2sd_cmp1	REAL8 0.99
	sse2_log2sd_cmp2	REAL8 1.00
	sse2_log2sd_msk_1 	REAL8 0000fffffffffffffr
	sse2_log2sd_m1		REAL8 -1.0
	sse2_log2sd_msk_2 	REAL8 1.0
	sse2_log2sd_128		REAL8 128.0

;	Needs["FunctionApproximations`"]
;	x0 = 1;
;	fnc = Series[Log2[x], {x, x0, 7}]
;	Plot[Evaluate[1 - Normal[fnc]/Log2[x]], {x, 127/128, 129/128}]
;	For[i = 7, i >= 0, i--, Print["REAL8 ", N[SeriesCoefficient[fnc, i], 25]]]

	align 16
	sse2_log2sd_P LABEL REAL8
	REAL8 0.2060992915555662010514178		; c7 for x^7
	REAL8 0.4808983469629878024533082		; c3 ... x^3			
	REAL8 0.2885390081777926814719849		; c5			
	REAL8 1.442695040888963407359925		; c1			
	REAL8 -0.2404491734814939012266541		; c6
	REAL8 -0.7213475204444817036799623		; c2			
	REAL8 -0.3606737602222408518399812		; c4			
	REAL8 0.0								; c0

;	Print["tblLog2 LABEL REAL8"]
;	For[i=0,i<128,i++,Print["REAL8 ",N[Log2[128+i]-7,25]," , ",N[1/(128+i),25]]]

sse2_log2sd_tbl LABEL REAL8
	REAL8 0.0 , 0.007812500000000000000000000
	REAL8 0.01122725542325412033788058 , 0.007751937984496124031007752
	REAL8 0.02236781302845450826713208 , 0.007692307692307692307692308
	REAL8 0.03342300153745027901759470 , 0.007633587786259541984732824
	REAL8 0.04439411935845343765310199 , 0.007575757575757575757575758
	REAL8 0.05528243550118960123548874 , 0.007518796992481203007518797
	REAL8 0.06608919045777243292927701 , 0.007462686567164179104477612
	REAL8 0.07681559705083089223153626 , 0.007407407407407407407407407
	REAL8 0.08746284125033940825406601 , 0.007352941176470588235294118
	REAL8 0.09803208296052671579565162 , 0.007299270072992700729927007
	REAL8 0.1085244567781690537478872 , 0.007246376811594202898550725
	REAL8 0.1189410727235074309897332 , 0.007194244604316546762589928
	REAL8 0.1292830169449664553122887 , 0.007142857142857142857142857
	REAL8 0.1395513523987935536245497 , 0.007092198581560283687943262
	REAL8 0.1497471195046820614067468 , 0.007042253521126760563380282
	REAL8 0.1598713367783894165961757 , 0.006993006993006993006993007
	REAL8 0.1699250014423123629074779 , 0.006944444444444444444444444
	REAL8 0.1799090900149344685900928 , 0.006896551724137931034482759
	REAL8 0.1898245588800172298640172 , 0.006849315068493150684931507
	REAL8 0.1996723448363643963376776 , 0.006802721088435374149659864
	REAL8 0.2094533656289497818578042 , 0.006756756756756756756756757
	REAL8 0.2191685204621615716118204 , 0.006711409395973154362416107
	REAL8 0.2288186904958808771943778 , 0.006666666666666666666666667
	REAL8 0.2384047393250789065429013 , 0.006622516556291390728476821
	REAL8 0.2479275134435854937935194 , 0.006578947368421052631578947
	REAL8 0.2573878426926517711615439 , 0.006535947712418300653594771
	REAL8 0.2667865406949013636413324 , 0.006493506493506493506493506
	REAL8 0.2761244052742375566764430 , 0.006451612903225806451612903
	REAL8 0.2854022188622483418505516 , 0.006410256410256410256410256
	REAL8 0.2946207488916270064100407 , 0.006369426751592356687898089
	REAL8 0.3037807481771029244272863 , 0.006329113924050632911392405
	REAL8 0.3128829552843553607345170 , 0.006289308176100628930817610
	REAL8 0.3219280948873623478703194 , 0.006250000000000000000000000
	REAL8 0.3309168781146169797361176 , 0.006211180124223602484472050
	REAL8 0.3398500028846247258149558 , 0.006172839506172839506172840
	REAL8 0.3487281542310775525637810 , 0.006134969325153374233128834
	REAL8 0.3575520046180836931659713 , 0.006097560975609756097560976
	REAL8 0.3663222142458157855234214 , 0.006060606060606060606060606
	REAL8 0.3750394313469247563596276 , 0.006024096385542168674698795
	REAL8 0.3837042924740522244713203 , 0.005988023952095808383233533
	REAL8 0.3923174227787602888957083 , 0.005952380952380952380952381
	REAL8 0.4008794362821843207936253 , 0.005917159763313609467455621
	REAL8 0.4093909361377017561243854 , 0.005882352941176470588235294
	REAL8 0.4178525148858978567009973 , 0.005847953216374269005847953
	REAL8 0.4262647547020979388841416 , 0.005813953488372093023255814
	REAL8 0.4346282276367246327213891 , 0.005780346820809248554913295
	REAL8 0.4429434958487283021735123 , 0.005747126436781609195402299
	REAL8 0.4512111118323288031826082 , 0.005714285714285714285714286
	REAL8 0.4594316186372972561993630 , 0.005681818181818181818181818
	REAL8 0.4676055500829974402611459 , 0.005649717514124293785310734
	REAL8 0.4757334309663977549642801 , 0.005617977528089887640449438
	REAL8 0.4838157772642564240916437 , 0.005586592178770949720670391
	REAL8 0.4918530963296747107777973 , 0.005555555555555555555555556
	REAL8 0.4998458870832053605335679 , 0.005524861878453038674033149
	REAL8 0.5077946401986962678387820 , 0.005494505494505494505494505
	REAL8 0.5156998382840424579259412 , 0.005464480874316939890710383
	REAL8 0.5235619560570128722941482 , 0.005434782608695652173913043
	REAL8 0.5313814605163121297281236 , 0.005405405405405405405405405
	REAL8 0.5391588111080313902598625 , 0.005376344086021505376344086
	REAL8 0.5468944598876366644534291 , 0.005347593582887700534759358
	REAL8 0.5545888516776373721708108 , 0.005319148936170212765957447
	REAL8 0.5622424242210726518031861 , 0.005291005291005291005291005
	REAL8 0.5698556083309478416638389 , 0.005263157894736842105263158
	REAL8 0.5774288280357486892587777 , 0.005235602094240837696335079
	REAL8 0.5849625007211561814537389 , 0.005208333333333333333333333
	REAL8 0.5924570372680804196373046 , 0.005181347150259067357512953
	REAL8 0.5999128421871276798262189 , 0.005154639175257731958762887
	REAL8 0.6073303137496106897208710 , 0.005128205128205128205128205
	REAL8 0.6147098441152082148839386 , 0.005102040816326530612244898
	REAL8 0.6220518194563762667838015 , 0.005076142131979695431472081
	REAL8 0.6293566200796096191068409 , 0.005050505050505050505050505
	REAL8 0.6366246205436488385577144 , 0.005025125628140703517587940
	REAL8 0.6438561897747246957406389 , 0.005000000000000000000000000
	REAL8 0.6510516911789286143830160 , 0.004975124378109452736318408
	REAL8 0.6582114827517947371716591 , 0.004950495049504950495049505
	REAL8 0.6653359171851762281617426 , 0.004926108374384236453201970
	REAL8 0.6724253419714955897078050 , 0.004901960784313725490196078
	REAL8 0.6794800995054460410362907 , 0.004878048780487804878048780
	REAL8 0.6865005271832183810608728 , 0.004854368932038834951456311
	REAL8 0.6934869574993252352016261 , 0.004830917874396135265700483
	REAL8 0.7004397181410921603968127 , 0.004807692307692307692307692
	REAL8 0.7073591320808827499928825 , 0.004784688995215311004784689
	REAL8 0.7142455176661226367660277 , 0.004761904761904761904761905
	REAL8 0.7210991887071851341589121 , 0.004739336492890995260663507
	REAL8 0.7279204545631991792807780 , 0.004716981132075471698113208
	REAL8 0.7347096202258382428604857 , 0.004694835680751173708920188
	REAL8 0.7414669864011469478645981 , 0.004672897196261682242990654
	REAL8 0.7481928495894602867544611 , 0.004651162790697674418604651
	REAL8 0.7548875021634685443612168 , 0.004629629629629629629629630
	REAL8 0.7615512324444793162480929 , 0.004608294930875576036866359
	REAL8 0.7681843247769263584787868 , 0.004587155963302752293577982
	REAL8 0.7747870596011734113177561 , 0.004566210045662100456621005
	REAL8 0.7813597135246596040696825 , 0.004545454545454545454545455
	REAL8 0.7879025593914315686508787 , 0.004524886877828054298642534
	REAL8 0.7944158663501059633115431 , 0.004504504504504504504504505
	REAL8 0.8008998999203047330328533 , 0.004484304932735426008968610
	REAL8 0.8073549220576041074419693 , 0.004464285714285714285714286
	REAL8 0.8137811912170370586481167 , 0.004444444444444444444444444
	REAL8 0.8201789624151877083185451 , 0.004424778761061946902654867
	REAL8 0.8265484872909149837820882 , 0.004405286343612334801762115
	REAL8 0.8328900141647416752472584 , 0.004385964912280701754385965
	REAL8 0.8392037880969439387036880 , 0.004366812227074235807860262
	REAL8 0.8454900509443752201644677 , 0.004347826086956521739130435
	REAL8 0.8517490414160575450950713 , 0.004329004329004329004329004
	REAL8 0.8579809951275721207197733 , 0.004310344827586206896551724
	REAL8 0.8641861446542802370184557 , 0.004291845493562231759656652
	REAL8 0.8703647195834045233042905 , 0.004273504273504273504273504
	REAL8 0.8765169465649997200411302 , 0.004255319148936170212765957
	REAL8 0.8826430493618412588074069 , 0.004237288135593220338983051
	REAL8 0.8887432488982591058810253 , 0.004219409282700421940928270
	REAL8 0.8948177633079435156960353 , 0.004201680672268907563025210
	REAL8 0.9008668079807485583423195 , 0.004184100418410041841004184
	REAL8 0.9068905956085185293240584 , 0.004166666666666666666666667
	REAL8 0.9128893362299616189837330 , 0.004149377593360995850622407
	REAL8 0.9188632372745945123987261 , 0.004132231404958677685950413
	REAL8 0.9248125036057809072686947 , 0.004115226337448559670781893
	REAL8 0.9307373375628862764722022 , 0.004098360655737704918032787
	REAL8 0.9366379390025705627542581 , 0.004081632653061224489795918
	REAL8 0.9425145053392398746197103 , 0.004065040650406504065040650
	REAL8 0.9483672315846776541903321 , 0.004048582995951417004048583
	REAL8 0.9541963103868752088061236 , 0.004032258064516129032258065
	REAL8 0.9600019320680809378133665 , 0.004016064257028112449799197
	REAL8 0.9657842846620870436109583 , 0.004000000000000000000000000
	REAL8 0.9715435539507719909769784 , 0.003984063745019920318725100
	REAL8 0.9772799234999164703494472 , 0.003968253968253968253968254
	REAL8 0.9829935746943101284935113 , 0.003952569169960474308300395
	REAL8 0.9886846867721658532800039 , 0.003937007874015748031496063
	REAL8 0.9943534368588579375781244 , 0.003921568627450980392156863

SmplMthC ENDS
end